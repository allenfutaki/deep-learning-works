EXPERIMENT: "OSNet_duke_cels_triplet_center_attention_notrick_Adam_lr_0.00035_warmup_10_0.01_plateau_10_flip_crop_imagenet"
# [modelname]_[task]_[loss]_[opt]_[lr]_[trick]_[pretrain]

TASK: "reid"

MODEL:
  NUM_GPUS: 1
  NUM_CLASSES: 702
  NAME: "osnet"
  PRETRAIN: "outside"
  TASK: "attention"

INPUT:
  IMAGE_PAD: 10
  IMAGE_SIZE: (384, 128) #(320, 160)
  IMAGE_CROP_SIZE: (384, 128)
  TRAIN_BS: 64
  TEST_BS: 256
  MEAN: [0.485, 0.456, 0.406]
  STD: [0.229, 0.224, 0.225]

REID:
  SIZE_PERSON: 4
  
DATALOADER:
  NUM_WORKERS: 1

DATASET:
  NAME: "dukemtmcreid"
  TRAIN_PATH: "/path/to/reid"
  # ATTENTION_MAPS: "/media/allen/mass/reid/dukemtmc-reid/DukeMTMC-reID/at_map_gt"
  # ATTENTION_MAPS_LIST: "/media/allen/mass/reid/dukemtmc-reid/DukeMTMC-reID/at_maps.txt"

TRANSFORM:
  HFLIP: True
  # RANDOMCROP: True
  NORMALIZE: True
  RESIZE: True 
  # RANDOMERASING: True

SOLVER:
  OPTIMIZER_NAME: "Adam"
  START_EPOCH: 0
  MAX_EPOCHS: 400
  BASE_LR: 0.00035
  BIAS_LR_FACTOR: 1.0
  CENTER_LOSS_LR: 0.5
  CENTER_LOSS_WEIGHT: 0.0005
  WEIGHT_DECAY: 0.0005
  WEIGHT_DECAY_BIAS_FACTOR: 1.0
  EVALUATE_FREQ: 5

  LR_POLICY: "plateau"
  WARMUP: True
  GAMMA: 0.1
  WARMUP_FACTOR: 0.01
  WARMUP_SIZE: 10.0
  PLATEAU_SIZE: 10.0

  MODEL_FREEZE_PEROID: 3

# osnet_ibn_x1_0_imagenet.pth 

RESUME: "/path/to/osnet_x1_0_imagenet.pth"

